<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8"/>
<title>myhash</title>
<script type="text/javascript" src="//code.jquery.com/jquery-2.2.4.min.js"></script>
<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet"/>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<meta name="apple-mobile-web-app-capable" content="yes"/>

<style type="text/css">
html, body{
  text-align: center;
  background-color: #fafafa;
  font-size: 20px;
  color: #333;
}
</style>
</head>
<body>
  <table class='table'>
    <tr>
      <td><input type="text" class="form-control" placeholder="ASCII string" id="q" value=""/></td>
      <td><input type="button" class="btn btn-xs btn-primary" value=" -> " onClick="myhash();"/></td>
      <td><input type="text" class="form-control" placeholder="(Hashed value)" id="hash" readonly value=""/></td>
    </tr>
  </table>
</div>

<script>
$(function(){
  $('#q').val( "Hello : " + ( new Date() ).getTime() );
});

function myhash(){
  $('#hash').val( '' );
  var q = $('#q').val();
  if( q ){
    $.ajax({
      type: 'GET',
      url: '/hash?q=' + q,
      success: function( data ){
        $('#hash').val( data.hash );
      },
      error: function( xhr, err, status ){
        $('#hash').val( "error: " + err + " " + status );
      }
    });
  }
}
</script>
</body>
</html>
